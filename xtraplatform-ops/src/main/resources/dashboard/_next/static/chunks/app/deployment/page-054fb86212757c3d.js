(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{548:function(e,t,s){Promise.resolve().then(s.bind(s,1462))},1462:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var n=s(3827),i=s(5815),l=s(4747);let r=e=>Number.isFinite(e)?e:0,a=e=>0===e||0n===e,o=(e,t)=>1===t||1n===t?e:"".concat(e,"s"),c=24n*60n*60n*1000n;var d=s(9084),u=s(4090);let m="bits",x="bytes",f="jedec",h={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function p(e){let{name:t,version:s,uptime:i,memory:l,health:u,Icon:p,IconFooter1:g,IconFooter2:b,IconFooter3:y}=e,N=function(e){let{bits:t=!1,pad:s=!1,base:n=-1,round:i=2,locale:l="",localeOptions:r={},separator:a="",spacer:o=" ",symbols:c={},standard:d="",output:u="string",fullform:p=!1,fullforms:g=[],exponent:b=-1,roundingMethod:y="round",precision:N=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=b,v=Number(e),w=[],E=0,I="";"si"===d?(n=10,d=f):"iec"===d||d===f?n=2:2===n?d="iec":(n=10,d=f);let C=10===n?1e3:1024,M=v<0,S=Math[y];if("bigint"!=typeof e&&isNaN(e))throw TypeError("Invalid number");if("function"!=typeof S)throw TypeError("Invalid rounding method");if(M&&(v=-v),(-1===j||isNaN(j))&&(j=Math.floor(Math.log(v)/Math.log(C)))<0&&(j=0),j>8&&(N>0&&(N+=8-j),j=8),"exponent"===u)return j;if(0===v)w[0]=0,I=w[1]=h.symbol[d][t?m:x][j];else{E=v/(2===n?Math.pow(2,10*j):Math.pow(1e3,j)),t&&(E*=8)>=C&&j<8&&(E/=C,j++);let e=Math.pow(10,j>0?i:0);w[0]=S(E*e)/e,w[0]===C&&j<8&&-1===b&&(w[0]=1,j++),I=w[1]=10===n&&1===j?t?"kbit":"kB":h.symbol[d][t?m:x][j]}if(M&&(w[0]=-w[0]),N>0&&(w[0]=w[0].toPrecision(N)),w[1]=c[w[1]]||w[1],!0===l?w[0]=w[0].toLocaleString():l.length>0?w[0]=w[0].toLocaleString(l,r):a.length>0&&(w[0]=w[0].toString().replace(".",a)),s&&!1===Number.isInteger(w[0])&&i>0){let e=a||".",t=w[0].toString().split(e),s=t[1]||"",n=s.length;w[0]="".concat(t[0]).concat(e).concat(s.padEnd(n+(i-n),"0"))}return!0===p&&(w[1]=g[j]?g[j]:h.fullform[d][j]+(t?"bit":"byte")+(1===w[0]?"":"s")),"array"===u?w:"object"===u?{value:w[0],symbol:w[1],exponent:j,unit:I}:w.join(o)}(l,{base:10}),j=function(e,t){let s="bigint"==typeof e;if(!s&&!Number.isFinite(e))throw TypeError("Expected a finite number or bigint");(t={...t}).colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let n=[],i=(e,s,i,l)=>{if(!((0===n.length||!t.colonNotation)&&a(e))||t.colonNotation&&"m"===i){if(l=null!=l?l:String(e),t.colonNotation){let e=l.includes(".")?l.split(".")[0].length:l.length,t=n.length>0?2:1;l="0".repeat(Math.max(0,t-e))+l}else l+=t.verbose?" "+o(s,e):i;n.push(l)}},l=function(e){switch(typeof e){case"number":if(Number.isFinite(e))return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(r(1e3*e)%1e3),nanoseconds:Math.trunc(r(1e6*e)%1e3)};break;case"bigint":return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}throw TypeError("Expected a finite number or bigint")}(e),d=BigInt(l.days);if(i(d/365n,"year","y"),i(d%365n,"day","d"),i(Number(l.hours),"hour","h"),i(Number(l.minutes),"minute","m"),t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3){let e=Number(l.seconds),s=Number(l.milliseconds),n=Number(l.microseconds),r=Number(l.nanoseconds);if(i(e,"second","s"),t.formatSubMilliseconds)i(s,"millisecond","ms"),i(n,"microsecond","\xb5s"),i(r,"nanosecond","ns");else{let e=s+n/1e3+r/1e6,l="number"==typeof t.millisecondsDecimalDigits?t.millisecondsDecimalDigits:0,a=l?e.toFixed(l):e>=1?Math.round(e):Math.ceil(e);i(Number.parseFloat(a),"millisecond","ms",a)}}else{var u;let n=(Math.round(Math.floor((s?Number(e%c):e)/1e3%60*10**(u="number"==typeof t.secondsDecimalDigits?t.secondsDecimalDigits:1)+1e-7))/10**u).toFixed(u),l=t.keepDecimalsOnWholeSeconds?n:n.replace(/\.0+$/,"");i(Number.parseFloat(l),"second","s",l)}if(0===n.length)return"0"+(t.verbose?" milliseconds":"ms");let m=t.colonNotation?":":" ";return"number"==typeof t.unitCount&&(n=n.slice(0,Math.max(t.unitCount,1))),n.join(m)}(i,{secondsDecimalDigits:0});return(0,n.jsxs)(d.Zb,{className:"shadow-lg",children:[(0,n.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(d.ll,{className:"text-sm font-semibold ".concat("ACTIVE"===u||"true"===u||"HEALTHY"===u?"text-success":"text-destructive"),children:u}),p?(0,n.jsx)(p,{className:"h-4 w-4 text-muted-foreground"}):null]}),(0,n.jsxs)(d.aY,{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"text-2xl font-bold break-normal",style:{marginBottom:"3px"},children:t}),(0,n.jsxs)("div",{style:{marginRight:"225px",marginTop:"-30px"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[y?(0,n.jsx)(y,{className:"h-4 w-4 text-muted-foreground",style:{marginRight:"5px",marginTop:"2px"}}):null,(0,n.jsx)("span",{style:{color:"dimgray",width:"65px",fontSize:"14px",fontWeight:"bold"},children:"Version:"}),(0,n.jsx)("span",{style:{color:"dimgray",fontSize:"14px",fontWeight:"bold"},children:s})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[g?(0,n.jsx)(g,{className:"h-4 w-4 text-muted-foreground",style:{marginRight:"5px",marginTop:"2px"}}):null,(0,n.jsx)("span",{style:{color:"dimgray",width:"65px",fontSize:"14px",fontWeight:"bold"},children:"Uptime:"}),(0,n.jsx)("span",{style:{color:"dimgray",fontSize:"14px",fontWeight:"bold"},children:j})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[b?(0,n.jsx)(b,{className:"h-4 w-4 text-muted-foreground",style:{marginRight:"5px",marginTop:"2px"}}):null,(0,n.jsx)("span",{style:{color:"dimgray",width:"65px",fontSize:"14px",fontWeight:"bold"},children:"Memory:"}),(0,n.jsx)("span",{style:{color:"dimgray",fontSize:"14px",fontWeight:"bold"},children:N})]})]})]})]})}var g=s(9539),b=s.n(g),y=s(5744),N=s(2169),j=s(3702),v=s(594),w=s(6054),E=s.n(w);s(1209),s(7613);var I=s(7907),C=s(7780),M=s(8403);function S(){let[e,t]=(0,u.useState)([]),[s,r]=(0,u.useState)("overview"),[a,o]=(0,u.useState)([]),[c,d]=(0,u.useState)({uptime:0,memory:0}),[m,x]=(0,u.useState)({name:"",version:"",url:"",env:"",status:""}),[f,h]=(0,u.useState)([]),[g,w]=(0,u.useState)([]),[S,B]=(0,u.useState)(!0),[k,D]=(0,u.useState)({}),[L,T]=(0,u.useState)(!1),A=(0,I.useRouter)(),R=(0,I.usePathname)();(0,u.useEffect)(()=>{w(e.filter(e=>e.name.startsWith("app/")).map(e=>({label:e.name.substring(4),status:e.state,checked:b()(e.timestamp).format("HH:mm:ss")})))},[e]);let P=async()=>{try{let e=await (0,N.C5)();x(e)}catch(e){console.error("Error loading info:",e)}},U=async()=>{try{let e=await (0,N.hs)();"Method not allowed"===e.message?T(!0):D(e)}catch(e){T(!0),console.error("Error loading cfg:",e)}},O=async()=>{try{let e=await (0,N.Kt)();d(e)}catch(e){console.error("Error loading metrics:",e)}},V=async()=>{try{let e=await (0,N.fi)(),t=await (0,N.fL)();e.forEach(e=>{let s=t.find(t=>t.name==="entities/".concat(e.type,"/").concat(e.id));e.status=s&&s.state?s.state:"UNKNOWN"}),o(e)}catch(e){console.error("Error loading entities:",e)}},F=async()=>{try{let e=await (0,N.fL)();t(e)}catch(e){console.error("Error loading health checks:",e)}},Y=async()=>{try{let e=await (0,N.KX)();h(e)}catch(e){console.error("Error loading health values:",e)}};(0,u.useEffect)(()=>{R&&r(window.location.hash.slice(1)||"overview"),F(),V(),P(),O(),Y(),U()},[]);let Z=e.length>0?e.some(e=>"AVAILABLE"!==e.state)?"UNHEALTHY":"HEALTHY":"",z=g.length,H=f.length;console.log("Values:",H),console.log("totalSources:",z);let W=a.length,_=(0,M.lY)(a),K=(0,M.Ph)(_);return(0,n.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between space-y-2",children:(0,n.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"Deployment"})}),(0,n.jsxs)(y.mQ,{value:s,onValueChange:e=>{r(e),A.push("".concat(R,"#").concat(e))},className:"h-full space-y-6",children:[(0,n.jsx)("div",{className:"space-between flex items-center",children:(0,n.jsxs)(y.dr,{children:[(0,n.jsx)(y.SP,{value:"overview",children:(0,n.jsx)("span",{children:"Overview"})}),(0,n.jsx)(y.SP,{value:"store",children:(0,n.jsx)("span",{children:"Health"})})]})}),(0,n.jsxs)(y.nU,{value:"overview",children:[(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-1",style:{marginBottom:"10px"},children:(0,n.jsx)(p,{name:m.url.replace("https://","").replace("http://",""),version:m.version,uptime:c.uptime,memory:c.memory,health:Z,IconFooter1:(0,j.q)("Clock"),IconFooter2:(0,j.q)("Upload"),IconFooter3:(0,j.q)("Desktop")},"Entities")}),(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,n.jsx)(l.Z,{main:"Entities",route:"/entities",footer:K,total:W,Icon:(0,j.q)("Id")},"Entities"),(0,n.jsx)(l.Z,{main:"Values",route:"/values",footer:"\xa0",total:H,Icon:(0,j.q)("Code")},"Values")]})]}),(0,n.jsx)(y.nU,{value:"store",children:(0,n.jsx)("div",{children:(0,n.jsx)(v.w,{columns:i.z,data:g})})}),(0,n.jsx)(y.nU,{value:"cfg",children:(0,n.jsx)("div",{style:{backgroundColor:"#f5f5f5",borderRadius:"8px",padding:"16px",border:"1px solid lightgray"},children:L?"No results.":0===Object.keys(k).length?(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(C.Z,{color:"#123abc",loading:!0,size:20}),(0,n.jsx)("span",{style:{marginLeft:"5px"},children:"Loading..."})]}):Object.entries(k).map(e=>{let[t,s]=e,i=JSON.stringify(s,null,2),l=E().highlight(i,E().languages.json,"json");return(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsxs)("span",{children:[t,":"]}),(0,n.jsx)("pre",{dangerouslySetInnerHTML:{__html:l},style:{margin:"0 0 0 10px"}})]},t)})})})]})]})}},4747:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var n=s(3827),i=s(8792),l=s(9084),r=s(2177),a=s(5479);let o=e=>{let{footer:t}=e,s=t.includes("/")?t.split("/")[1]:t.includes("OGC_API")?t:null;return console.log("footer: ",t),console.log("type1: ",s),(0,n.jsx)(n.Fragment,{children:t?t.split(" ").map((e,t,i)=>"available"!==e||isNaN(Number(i[t-1]))?"limited"!==e||isNaN(Number(i[t-1]))?"defective"!==e||isNaN(Number(i[t-1]))?null!==s?(0,n.jsx)(a.C,{variant:"secondary",children:s},s):isNaN(Number(e))||"available"!==i[t+1]&&"unavailable"!==i[t+1]&&"limited"!==i[t+1]?e+" ":null:[(0,n.jsxs)("span",{className:"text-destructive",style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(r.xrR,{className:"text-destructive",style:{marginRight:"3px"}},"CheckCircledIcon"),i[t-1]," ",e]},t)]:[(0,n.jsxs)("span",{className:"text-warning",style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(r.xrR,{className:"text-warning",style:{marginRight:"3px"}},"CheckCircledIcon"),i[t-1]," ",e]},t)]:[(0,n.jsxs)("span",{className:"text-success",style:{display:"flex",alignItems:"center",marginRight:"15px"},children:[(0,n.jsx)(r.NhS,{className:"text-success",style:{marginRight:"3px"}},"CheckCircledIcon"),i[t-1]," ",e]},t)]):null})};function c(e){let{header:t,main:s,footer:r,route:a,total:c,Icon:d,...u}=e,m="AVAILABLE"===t||"ACTIVE"===t||"true"===t?"text-success":"LIMITED"===t?"text-warning":"UNAVAILABLE"===t||"false"===t?"text-red":"text-blue-700";return(0,n.jsx)(i.default,{href:a||"#",children:(0,n.jsxs)(l.Zb,{className:"shadow-lg hover:bg-gray-100 transition-colors duration-200",...u,children:[(0,n.jsx)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-0",children:(0,n.jsx)(l.ll,{className:"text-sm font-semibold ".concat(m).concat(t?"":"text-2xl font-bold mb-1"),children:t||(0,n.jsx)("span",{className:"text-2xl font-bold mb-1",children:c})})}),(0,n.jsxs)(l.aY,{children:[(0,n.jsxs)("div",{className:"text-2xl font-bold",style:{display:"flex",flexDirection:"row",marginBottom:"5px",alignItems:"center",justifyContent:"flex-start",gap:"10px"},children:[d?(0,n.jsx)(d,{className:"h-6 w-6 text-muted-foreground"}):null,(0,n.jsx)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:"string"==typeof s?s:"",children:s})]}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:(0,n.jsx)("p",{className:"text-xs text-muted-foreground",style:{display:"flex",flexDirection:"row"},children:r?(0,n.jsx)(o,{footer:r}):null})})]})]})})}},9084:function(e,t,s){"use strict";s.d(t,{Ol:function(){return a},Zb:function(){return r},aY:function(){return c},ll:function(){return o}});var n=s(3827),i=s(4090),l=s(2169);let r=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...i})});r.displayName="Card";let a=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...i})});a.displayName="CardHeader";let o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...i})});o.displayName="CardTitle",i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...i})}).displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...i})});c.displayName="CardContent",i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...i})}).displayName="CardFooter"},8403:function(e,t,s){"use strict";s.d(t,{Ph:function(){return a},RL:function(){return n},Xd:function(){return i},lY:function(){return l},zM:function(){return r}});let n=e=>"services"===e.type?"API":e.subType.split(/[/]/)[0],i=e=>e[0].toUpperCase()+e.substring(1)+"s",l=e=>e.reduce((e,t)=>(n(t),e||(e={available:0,limited:0,unavailable:0}),"AVAILABLE"===t.status?e.available++:"LIMITED"===t.status?e.limited++:"UNAVAILABLE"===t.status&&e.unavailable++,e),{available:0,limited:0,unavailable:0}),r=(e,t)=>t.reduce((t,s)=>(t[s]=l(e.filter(e=>n(e)===s)),t),{}),a=e=>{if(!e||!e)return"No entities found";let t="";return e.available&&(t+="".concat(e.available," available")),e.limited&&(t.length>0&&(t+=" "),t+="".concat(e.limited," limited")),e.unavailable&&(t.length>0&&(t+=" "),t+="".concat(e.unavailable," unavailable")),t}},3702:function(e,t,s){"use strict";s.d(t,{c:function(){return i},q:function(){return l}});var n=s(2177);let i={Play:"Play",Id:"Id",Code:"Code",ListBullet:"ListBullet",Upload:"Upload",Clock:"Clock",Desktop:"Desktop"},l=e=>{switch(e){case i.Play:return n.o1U;case i.Id:return n.Xwj;case i.Code:return n.dNJ;case i.ListBullet:return n.jVc;case i.Upload:return n.rG2;case i.Clock:return n.T39;case i.Desktop:return n.ugZ;default:return}}}},function(e){e.O(0,[310,285,792,639,788,267,549,971,69,744],function(){return e(e.s=548)}),_N_E=e.O()}]);