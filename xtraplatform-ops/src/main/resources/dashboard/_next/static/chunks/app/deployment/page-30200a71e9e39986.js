(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{548:function(e,t,s){Promise.resolve().then(s.bind(s,4228))},4228:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var l=s(3827),r=s(5815),n=s(4747),i=s(2151),a=s.n(i),o=s(9084),c=s(4090);let d="bits",u="bytes",x="jedec",h={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function m(e){let{name:t,version:s,uptime:r,memory:n,health:i,Icon:c,IconFooter1:m,IconFooter2:g,IconFooter3:f}=e,p=function(e){let{bits:t=!1,pad:s=!1,base:l=-1,round:r=2,locale:n="",localeOptions:i={},separator:a="",spacer:o=" ",symbols:c={},standard:m="",output:g="string",fullform:f=!1,fullforms:p=[],exponent:y=-1,roundingMethod:j="round",precision:b=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=y,v=Number(e),w=[],C=0,S="";"si"===m?(l=10,m=x):"iec"===m||m===x?l=2:2===l?m="iec":(l=10,m=x);let k=10===l?1e3:1024,I=v<0,E=Math[j];if("bigint"!=typeof e&&isNaN(e))throw TypeError("Invalid number");if("function"!=typeof E)throw TypeError("Invalid rounding method");if(I&&(v=-v),(-1===N||isNaN(N))&&(N=Math.floor(Math.log(v)/Math.log(k)))<0&&(N=0),N>8&&(b>0&&(b+=8-N),N=8),"exponent"===g)return N;if(0===v)w[0]=0,S=w[1]=h.symbol[m][t?d:u][N];else{C=v/(2===l?Math.pow(2,10*N):Math.pow(1e3,N)),t&&(C*=8)>=k&&N<8&&(C/=k,N++);let e=Math.pow(10,N>0?r:0);w[0]=E(C*e)/e,w[0]===k&&N<8&&-1===y&&(w[0]=1,N++),S=w[1]=10===l&&1===N?t?"kbit":"kB":h.symbol[m][t?d:u][N]}if(I&&(w[0]=-w[0]),b>0&&(w[0]=w[0].toPrecision(b)),w[1]=c[w[1]]||w[1],!0===n?w[0]=w[0].toLocaleString():n.length>0?w[0]=w[0].toLocaleString(n,i):a.length>0&&(w[0]=w[0].toString().replace(".",a)),s&&!1===Number.isInteger(w[0])&&r>0){let e=a||".",t=w[0].toString().split(e),s=t[1]||"",l=s.length;w[0]="".concat(t[0]).concat(e).concat(s.padEnd(l+(r-l),"0"))}return!0===f&&(w[1]=p[N]?p[N]:h.fullform[m][N]+(t?"bit":"byte")+(1===w[0]?"":"s")),"array"===g?w:"object"===g?{value:w[0],symbol:w[1],exponent:N,unit:S}:w.join(o)}(n,{base:10}),y=a().utc(1e3*r).format("HH[h] mm[m] ss[s]");return(0,l.jsxs)(o.Zb,{className:"shadow-lg",children:[(0,l.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(o.ll,{className:"text-sm font-semibold ".concat("ACTIVE"===i||"true"===i||"HEALTHY"===i?"text-blue-700":"text-red-700"),children:i}),c?(0,l.jsx)(c,{className:"h-4 w-4 text-muted-foreground"}):null]}),(0,l.jsxs)(o.aY,{className:"flex justify-between items-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold break-normal",style:{marginBottom:"3px"},children:t}),(0,l.jsxs)("div",{style:{marginRight:"225px",marginTop:"-30px"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[m?(0,l.jsx)(m,{className:"h-4 w-4 text-muted-foreground",style:{marginRight:"5px",marginTop:"2px"}}):null,(0,l.jsx)("span",{style:{color:"dimgray",width:"65px",fontSize:"14px",fontWeight:"bold"},children:"Uptime:"}),(0,l.jsx)("span",{style:{color:"dimgray",fontSize:"14px",fontWeight:"bold"},children:y})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[g?(0,l.jsx)(g,{className:"h-4 w-4 text-muted-foreground",style:{marginRight:"5px",marginTop:"2px"}}):null,(0,l.jsx)("span",{style:{color:"dimgray",width:"65px",fontSize:"14px",fontWeight:"bold"},children:"Memory:"}),(0,l.jsx)("span",{style:{color:"dimgray",fontSize:"14px",fontWeight:"bold"},children:p})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[f?(0,l.jsx)(f,{className:"h-4 w-4 text-muted-foreground",style:{marginRight:"5px",marginTop:"2px"}}):null,(0,l.jsx)("span",{style:{color:"dimgray",width:"65px",fontSize:"14px",fontWeight:"bold"},children:"Version:"}),(0,l.jsx)("span",{style:{color:"dimgray",fontSize:"14px",fontWeight:"bold"},children:s})]})]})]})]})}var g=s(8886),f=s(2177),p=s(5744),y=s(2169),j=s(3702),b=s(1900),N=s(6162),v=s(6054),w=s.n(v);s(1209),s(7613);var C=s(7907),S=s(7780);function k(){let[e,t]=(0,c.useState)([]),[s,i]=(0,c.useState)("overview"),[a,o]=(0,c.useState)([]),[d,u]=(0,c.useState)({uptime:0,memory:0}),[x,h]=(0,c.useState)({name:"",version:"",url:"",env:"",status:""}),[v,k]=(0,c.useState)([]),[I,E]=(0,c.useState)([]),[B,T]=(0,c.useState)(!0),[R,D]=(0,c.useState)({}),[Z,z]=(0,c.useState)(!1),L=(0,C.useRouter)(),M=(0,C.usePathname)();(0,c.useEffect)(()=>{let t=e.find(e=>"store"===e.name);N.k&&console.log("storeCheck data:",t),t&&t.sources&&t.healthy&&(T(t.healthy),E(t.sources.map(e=>({label:e.label,status:e.status,checked:t.timestamp})))),N.k&&console.log("Table data:",I)},[e]);let H=async()=>{try{let e=await (0,y.C5)();h(e)}catch(e){console.error("Error loading info:",e)}},P=async()=>{try{let e=await (0,y.hs)();"Method not allowed"===e.message?z(!0):D(e)}catch(e){z(!0),console.error("Error loading cfg:",e)}},Y=async()=>{try{let e=await (0,y.Kt)();u(e)}catch(e){console.error("Error loading metrics:",e)}},O=async()=>{try{let e=await (0,y.fi)();o(e)}catch(e){console.error("Error loading entities:",e)}},V=async()=>{try{let e=await (0,y.fL)();t(e)}catch(e){console.error("Error loading health checks:",e)}},_=async()=>{try{let e=await (0,y.KX)();k(e)}catch(e){console.error("Error loading health values:",e)}};(0,c.useEffect)(()=>{M&&i(window.location.hash.slice(1)||"overview"),V(),O(),H(),Y(),_(),P()},[]);let K=I.length,U=v.length;console.log("Values:",U),console.log("totalSources:",K);let W=a.length,q=a.filter(e=>"ACTIVE"===e.status||"HEALTHY"===e.status).length,A="".concat(q," active"),G=W!==q?"".concat(W-q," defective"):"";return(0,l.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-0",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"Deployment"}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsxs)(g.z,{onClick:V,className:"font-bold",children:[(0,l.jsx)(f.BGW,{className:"mr-2 h-4 w-4"}),"Reload"]})})]}),(0,l.jsxs)(p.mQ,{value:s,onValueChange:e=>{i(e),L.push("".concat(M,"#").concat(e))},className:"h-full space-y-6",children:[(0,l.jsx)("div",{className:"space-between flex items-center",children:(0,l.jsxs)(p.dr,{children:[(0,l.jsx)(p.SP,{value:"overview",children:(0,l.jsx)("span",{children:"Overview"})}),(0,l.jsx)(p.SP,{value:"store",children:(0,l.jsx)("span",{children:"Store"})}),(0,l.jsx)(p.SP,{value:"cfg",children:(0,l.jsx)("span",{children:"Configuration"})})]})}),(0,l.jsxs)(p.nU,{value:"overview",children:[(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-1",style:{marginBottom:"10px"},children:(0,l.jsx)(m,{name:x.url.replace("https://","").replace("http://",""),version:x.version,uptime:d.uptime,memory:d.memory,health:x.status,IconFooter1:(0,j.q)("Clock"),IconFooter2:(0,j.q)("Upload"),IconFooter3:(0,j.q)("Desktop")},"Entities")}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsx)(n.Z,{main:"Entities",route:"/entities",footer:G&&A?A+" "+G:A||G||"No entities found",total:W,Icon:(0,j.q)("Id")},"Entities"),(0,l.jsx)(n.Z,{main:"Sources",footer:B?"true":"false",Icon:(0,j.q)("ListBullet"),total:K,onClick:()=>i("store")},"Sources"),(0,l.jsx)(n.Z,{main:"Values",route:"/values",footer:"Go to Values...",total:U,Icon:(0,j.q)("Code")},"Values")]})]}),(0,l.jsx)(p.nU,{value:"store",children:(0,l.jsx)("div",{children:(0,l.jsx)(b.w,{columns:r.z,data:I})})}),(0,l.jsx)(p.nU,{value:"cfg",children:(0,l.jsx)("div",{style:{backgroundColor:"#f5f5f5",borderRadius:"8px",padding:"16px",border:"1px solid lightgray"},children:Z?"No results.":0===Object.keys(R).length?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(S.Z,{color:"#123abc",loading:!0,size:20}),(0,l.jsx)("span",{style:{marginLeft:"5px"},children:"Loading..."})]}):Object.entries(R).map(e=>{let[t,s]=e,r=JSON.stringify(s,null,2),n=w().highlight(r,w().languages.json,"json");return(0,l.jsxs)("div",{style:{display:"flex"},children:[(0,l.jsxs)("span",{children:[t,":"]}),(0,l.jsx)("pre",{dangerouslySetInnerHTML:{__html:n},style:{margin:"0 0 0 10px"}})]},t)})})})]})]})}},5815:function(e,t,s){"use strict";s.d(t,{z:function(){return a}});var l=s(3827),r=s(585),n=s(8886),i=s(5479);let a=[{accessorKey:"label",header:e=>{let{column:t}=e;return(0,l.jsxs)(n.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Name",(0,l.jsx)(r.Z,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t,getValue:s}=e;return(0,l.jsxs)("div",{className:"".concat(t.getCanExpand()?"":"ml-4"),children:[s()," ",t.getCanExpand()?(0,l.jsx)("button",{onClick:t.getToggleExpandedHandler(),style:{cursor:"pointer"},children:t.getIsExpanded()?"\uD83D\uDC47":"\uD83D\uDC49"}):""]})}},{accessorKey:"status",header:e=>{let{column:t}=e;return(0,l.jsxs)(n.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Status",(0,l.jsx)(r.Z,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e;if(t.original){let e="HEALTHY"===t.original.status?"default":"destructive";return(0,l.jsx)(i.C,{variant:e,children:t.original.status})}return null}},{accessorKey:"checked",header:e=>{let{column:t}=e;return(0,l.jsxs)(n.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Last checked",(0,l.jsx)(r.Z,{className:"ml-2 h-4 w-4"})]})}}]},4747:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var l=s(3827),r=s(8792),n=s(9084),i=s(2177),a=s(5479);let o=e=>{let{footer:t}=e,s=t.includes("_")?t.split("_")[1]:t.includes("/")?t.split("/")[1]:null;return console.log("footer: ",t),console.log("type1: ",s),(0,l.jsx)(l.Fragment,{children:t?t.split(" ").map((e,t,r)=>"active"!==e||isNaN(Number(r[t-1]))?"defective"!==e||isNaN(Number(r[t-1]))?"true"===e?[(0,l.jsxs)("span",{className:"text-green-500",style:{display:"flex",alignItems:"center",marginRight:"20px"},children:[(0,l.jsx)(i.NhS,{className:"text-green-500",style:{marginRight:"3px"}},"CheckCircledIcon"),"Store is healthy"]},t)]:"false"===e?[(0,l.jsxs)("span",{className:"text-red-500",style:{display:"flex",alignItems:"center",marginRight:"20px"},children:[(0,l.jsx)(i.NhS,{className:"text-red-500",style:{marginRight:"3px"}},"CheckCircledIcon"),"Store is unhealthy"]},t)]:null!==s?(0,l.jsx)(a.C,{children:s},s):isNaN(Number(e))||"active"!==r[t+1]&&"defective"!==r[t+1]?e+" ":null:[(0,l.jsxs)("span",{className:"text-red-500",style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(i.xrR,{className:"text-red-500",style:{marginRight:"3px"}},"CheckCircledIcon"),r[t-1]," ",e]},t)]:[(0,l.jsxs)("span",{className:"text-green-500",style:{display:"flex",alignItems:"center",marginRight:"15px"},children:[(0,l.jsx)(i.NhS,{className:"text-green-500",style:{marginRight:"3px"}},"CheckCircledIcon"),r[t-1]," ",e]},t)]):null})};function c(e){let{header:t,main:s,footer:i,route:a,total:c,Icon:d,...u}=e;return(0,l.jsx)(r.default,{href:a||"#",children:(0,l.jsxs)(n.Zb,{className:"shadow-lg hover:bg-gray-100 transition-colors duration-200",...u,children:[(0,l.jsx)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-0",children:(0,l.jsx)(n.ll,{className:"text-sm font-semibold ".concat("ACTIVE"!==t&&"true"!==t&&"HEALTHY"!==t&&isNaN(Number(c))?"text-red-700":"text-blue-700").concat(t?"":"text-2xl font-bold mb-1"),children:t||(0,l.jsx)("span",{className:"text-2xl font-bold mb-1",children:c})})}),(0,l.jsxs)(n.aY,{children:[(0,l.jsxs)("div",{className:"text-2xl font-bold",style:{display:"flex",flexDirection:"row",marginBottom:"5px",alignItems:"center",justifyContent:"flex-start",gap:"10px"},children:[d?(0,l.jsx)(d,{className:"h-6 w-6 text-muted-foreground"}):null,(0,l.jsx)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:"string"==typeof s?s:"",children:s})]}),(0,l.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:(0,l.jsx)("p",{className:"text-xs text-muted-foreground",style:{display:"flex",flexDirection:"row"},children:i?(0,l.jsx)(o,{footer:i}):null})})]})]})})}},9084:function(e,t,s){"use strict";s.d(t,{Ol:function(){return a},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var l=s(3827),r=s(4090),n=s(2169);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let a=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});a.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},6162:function(e,t,s){"use strict";s.d(t,{D:function(){return l},k:function(){return r}});let l=!0,r=!1},3702:function(e,t,s){"use strict";s.d(t,{c:function(){return r},q:function(){return n}});var l=s(2177);let r={Play:"Play",Id:"Id",Code:"Code",ListBullet:"ListBullet",Upload:"Upload",Clock:"Clock",Desktop:"Desktop"},n=e=>{switch(e){case r.Play:return l.o1U;case r.Id:return l.Xwj;case r.Code:return l.dNJ;case r.ListBullet:return l.jVc;case r.Upload:return l.rG2;case r.Clock:return l.T39;case r.Desktop:return l.ugZ;default:return}}}},function(e){e.O(0,[310,990,285,792,694,640,267,411,971,69,744],function(){return e(e.s=548)}),_N_E=e.O()}]);