(()=>{var e={};e.id=146,e.ids=[146],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1569:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(482),a=s(9108),i=s(2563),l=s.n(i),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["entities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6197)),"/Users/az/development/ws-ldproxy-4/dashboard/src/app/entities/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/Users/az/development/ws-ldproxy-4/dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/az/development/ws-ldproxy-4/dashboard/src/app/entities/page.tsx"],p="/entities/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/entities/page",pathname:"/entities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6696:(e,t,s)=>{Promise.resolve().then(s.bind(s,839))},839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(5344),a=s(4705),i=s(3174),l=s(4664),n=s(9813),o=s(8428),d=s(1453),c=s(3729),p=s(4360),x=s(3412);function u(){let[e,t]=(0,c.useState)([]),[s,u]=(0,c.useState)("overview"),m=(0,o.useRouter)(),f=(0,o.usePathname)(),h=e.filter(e=>{let t=e.subType.split(/[ _/]/)[0];return!("features"===t&&"providers"!==e.type)&&!("ogc"===t&&"services"!==e.type)&&!("tiles"===t&&"providers"!==e.type)}).map(e=>e.subType.split(/[ _/]/)[0]).filter((e,t,s)=>s.indexOf(e)===t),g=e.filter(e=>{let t=e.subType.split(/[ _/]/)[0];return!("features"===t&&"providers"!==e.type)&&!("ogc"===t&&"services"!==e.type)&&!("tiles"===t&&"providers"!==e.type)}),v=g.reduce((e,t)=>{let s=t.subType.split(/[ _/]/)[0];return e[s]||(e[s]=0),e[s]++,e},{}),y=g.reduce((e,t)=>{let s=t.subType.split(/[ _/]/)[0];return e[s]||(e[s]={active:0,defective:0}),"ACTIVE"===t.status?e[s].active++:"DEFECTIVE"===t.status&&e[s].defective++,e},{}),j=async()=>{try{let e=await (0,d.fi)();t(e)}catch(e){console.error("Error loading entities:",e)}};return(0,c.useEffect)(()=>{j(),f&&u(window.location.hash.slice(1)||"overview")},[]),p.D&&(console.log("entityTypeStatusCounts:",y),console.log("entities",e),console.log("Counts:",v.ogc),console.log("entityTypes",h)),(0,r.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Entities"}),r.jsx("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(i.z,{onClick:j,className:"font-bold",children:[r.jsx(l.BGW,{className:"mr-2 h-4 w-4"}),"Reload all"]})})]}),(0,r.jsxs)(n.mQ,{value:s,onValueChange:e=>{u(e),m.push(`${f}#${e}`)},className:"h-full space-y-6",children:[r.jsx("div",{className:"space-between flex items-center",children:(0,r.jsxs)(n.dr,{children:[r.jsx(n.SP,{value:"overview",children:r.jsx("span",{children:"Overview"})}),h.map(e=>r.jsx(n.SP,{value:e,children:r.jsx("span",{children:e})},e))]})}),r.jsx(n.nU,{value:"overview",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:h.map(e=>r.jsx(a.Z,{main:e,footer:y&&y[e]&&y[e].active&&y[e].defective?`${y[e].active} active ${y[e].defective} defective`:y&&y[e]&&y[e].active?`${y[e].active} active`:y&&y[e]&&y[e].defective?`${y[e].defective} defective`:"No entities found",total:v[e],onClick:()=>u(e),route:`${f}#${e}`,Icon:(0,x.q)("Id")},e))})}),h.map(e=>r.jsx(n.nU,{value:e,children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:g.filter(t=>t.subType.split(/[ _/]/)[0]===e).map(e=>r.jsx(a.Z,{header:e.status,main:e.id,footer:e.subType,route:`/entities/details?id=${e.uid}`},e.uid))})},e))]})]})}},4705:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(5344),a=s(6506),i=s(1120),l=s(4664),n=s(5826);let o=({footer:e})=>{let t=e.includes("_")?e.split("_")[1]:e.includes("/")?e.split("/")[1]:null;return console.log("footer: ",e),console.log("type1: ",t),r.jsx(r.Fragment,{children:e?e.split(" ").map((e,s,a)=>"active"!==e||isNaN(Number(a[s-1]))?"defective"!==e||isNaN(Number(a[s-1]))?"true"===e?[(0,r.jsxs)("span",{className:"text-green-500",style:{display:"flex",alignItems:"center",marginRight:"20px"},children:[r.jsx(l.NhS,{className:"text-green-500",style:{marginRight:"3px"}},"CheckCircledIcon"),"Store is healthy"]},s)]:"false"===e?[(0,r.jsxs)("span",{className:"text-red-500",style:{display:"flex",alignItems:"center",marginRight:"20px"},children:[r.jsx(l.NhS,{className:"text-red-500",style:{marginRight:"3px"}},"CheckCircledIcon"),"Store is unhealthy"]},s)]:null!==t?r.jsx(n.C,{children:t},t):isNaN(Number(e))||"active"!==a[s+1]&&"defective"!==a[s+1]?e+" ":null:[(0,r.jsxs)("span",{className:"text-red-500",style:{display:"flex",alignItems:"center"},children:[r.jsx(l.xrR,{className:"text-red-500",style:{marginRight:"3px"}},"CheckCircledIcon"),a[s-1]," ",e]},s)]:[(0,r.jsxs)("span",{className:"text-green-500",style:{display:"flex",alignItems:"center",marginRight:"15px"},children:[r.jsx(l.NhS,{className:"text-green-500",style:{marginRight:"3px"}},"CheckCircledIcon"),a[s-1]," ",e]},s)]):null})};function d({header:e,main:t,footer:s,route:l,total:n,Icon:d,...c}){return r.jsx(a.default,{href:l||"#",children:(0,r.jsxs)(i.Zb,{className:"shadow-lg hover:bg-gray-100 transition-colors duration-200",...c,children:[r.jsx(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-0",children:r.jsx(i.ll,{className:`text-sm font-semibold ${"ACTIVE"!==e&&"true"!==e&&"HEALTHY"!==e&&isNaN(Number(n))?"text-red-700":"text-blue-700"}${e?"":"text-2xl font-bold mb-1"}`,children:e||r.jsx("span",{className:"text-2xl font-bold mb-1",children:n})})}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",style:{display:"flex",flexDirection:"row",marginBottom:"5px",alignItems:"center",justifyContent:"flex-start",gap:"10px"},children:[d?r.jsx(d,{className:"h-6 w-6 text-muted-foreground"}):null,r.jsx("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:"string"==typeof t?t:"",children:t})]}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:r.jsx("p",{className:"text-xs text-muted-foreground",style:{display:"flex",flexDirection:"row"},children:s?r.jsx(o,{footer:s}):null})})]})]})})}},1120:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,Zb:()=>l,aY:()=>d,ll:()=>o});var r=s(5344),a=s(3729),i=s(1453);let l=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let n=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4360:(e,t,s)=>{"use strict";s.d(t,{D:()=>r,k:()=>a});let r=!0,a=!1},6197:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`/Users/az/development/ws-ldproxy-4/dashboard/src/app/entities/page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,876,337,128,94],()=>s(1569));module.exports=r})();