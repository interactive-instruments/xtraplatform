ext {
    dropwizardVersion = '2.0.28'
    jacksonVersion = '2.10.5'
}

dependencies {
    embeddedExport(group: 'io.dropwizard', name: 'dropwizard-core', version: dropwizardVersion)
    embeddedExport group: 'io.dropwizard', name: 'dropwizard-views-mustache', version: dropwizardVersion
    embeddedExport (group: 'io.dropwizard', name: 'dropwizard-client', version: dropwizardVersion)
    embeddedExport (group: 'io.dropwizard', name: 'dropwizard-auth', version: dropwizardVersion)
    embeddedExport (group: 'io.dropwizard', name: 'dropwizard-json-logging', version: dropwizardVersion)
    embeddedExport group: 'org.threeten', name: 'threeten-extra', version: '1.5.0'

    embeddedExport group: 'com.sun.activation', name: 'javax.activation', version: '1.2.0'
    embeddedExport group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'
    embeddedExport group: 'com.sun.xml.bind', name: 'jaxb-core', version: '2.3.0.1'
    embeddedExport group: 'com.sun.xml.bind', name: 'jaxb-impl', version: '2.3.3'
    embeddedExport group: 'org.glassfish.jersey.media', name: 'jersey-media-jaxb', version: '2.33'

    embeddedExport (group: 'com.google.dagger', name: 'dagger', version: '2.+') {
        transitive = false
    }
    embeddedExport group: 'io.github.azahnen', name: 'dagger-auto', version: '1.0.0-SNAPSHOT'
    embeddedExport group: 'org.immutables', name: 'value', version: '2.8.8', classifier: 'annotations'
    embeddedExport group: 'org.immutables', name: 'encode', version: '2.8.8'

}

moduleInfo {
    requires = [
        'java.compiler',
        'java.management',
        'java.sql',
        'jdk.unsupported',
        'java.xml',
    ]
    exports = [
            '!io.dropwizard.logback.shaded*'
    ]
    uses = [
            'ch.qos.logback.classic.spi.Configurator',
            'javax.validation.valueextraction.ValueExtractor',
            'javax.validation.ConstraintValidator'
    ]
    provides = [
            '!io.dropwizard.jackson.Discoverable': [],
            '!javax.xml.bind.JAXBContext': []
    ]
}
